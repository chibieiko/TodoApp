<!--div data-ng-controller="TodoCtrl"-->
<h1>Add a new list</h1>

<button type="button" class="btn btn-success" data-ng-click="addList" data-toggle="modal" data-target="#listModal"><span
        class="glyphicon glyphicon-plus"></span> Add list
</button>
<!-- Modal -->
<div class="modal fade" id="listModal" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content -->
        <div class="modal-content">
            <div class="modal-header">
                <!-- Dismisses modal when clicking outside it -->
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h2 class="modal-title">Add a new list</h2>
            </div>

                <div class="modal-body">
                    <!-- To input new list's name -->
                    <div class="form-group">
                        <label for="listname">List name</label>
                        <input data-ng-model="listname" type="text" class="form-control" id="listname"
                               placeholder="Enter list name"/>
                    </div>
                </div>

                <div class="modal-footer">
                    <div class="row">
                        <button type="button" class="btn btn-default col-xs-3 col-xs-offset-3 " data-dismiss="modal"
                                data-ng-click="addList()">Add list
                        </button>
                        <button type="button" class="btn btn-default col-xs-3" data-dismiss="modal">Cancel</button>
                    </div>
                </div>
        </div>
    </div>
</div>

<h1>{{uName}}'s lists</h1>

<div class="panel panel-default" data-ng-repeat="list in lists">
    <div class="panel-heading" data-ng-click="smoothCollapse(list._id); turnChevron(list._id);"><span
            id="{{list._id}}chevron" class="glyphicon glyphicon-chevron-down chevron"></span> {{list.listname}}
        <span class="pull-right">
                <button type="button" class="btn btn-default btn-xs" data-ng-click="$event.stopPropagation()">
                    <span class="glyphicon glyphicon-pencil"></span>
                </button>
                <button type="button" class="btn btn-danger btn-xs" data-ng-click="$event.stopPropagation()">
                    <span class="glyphicon glyphicon-trash"></span>
                </button>
            </span>
    </div>

    <div class="panel-body collapse" id="{{list._id}}">
        <button type="button" class="btn btn-success btn-xs taskButton"><span class="glyphicon glyphicon-plus"></span>
            Add task
        </button>
        <div data-ng-repeat="task in list.tasks" class="row task">
            <div class="col-xs-1">B</div>
            <div class="col-xs-7">{{task.taskname}}</div>
            <div class="col-xs-1">P</div>
            <div class="col-xs-3">
                     <span class="pull-right">
                        <button type="button" class="btn btn-default btn-xs">
                            <span class="glyphicon glyphicon-pencil"></span>
                        </button>
                        <button type="button" class="btn btn-danger btn-xs">
                            <span class="glyphicon glyphicon-trash"></span>
                        </button>
                     </span>
            </div>
        </div>
    </div>
</div>
<!--/div-->